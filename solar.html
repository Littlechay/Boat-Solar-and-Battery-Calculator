<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
  <title>Boat battery and solar calculator</title>
  <meta name="description" content="Boat battery and solar calculator">
  <meta name="author" content="Christopher Harris"
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="stylesheet" href="solar.css">
  </head>
<body>

<h1>Boat Battery and Solar Calculator</h1>
<p>If you are trying to assess the DC electrical system on your boat this page can help you get into the 'ballpark' in terms of battery capacity required, charging capacity and such like. To use it you will fill in some basic details of the system that you have (or want). After that you need to complete the form labelled "Consumers". This will require quite a bit of research if you want to be totally accurate but the defaults should be close enough for an initial pass. Finally you fill in the details of the power generation systems that you have aboard.</p>
<p>The "Results" section will provide an estimate of daily Ah consumption, an estimate of total battery capacity based on the battery chemistry selected and the amount of power generation required from each source listed.</p>


<h2>Initial configuration</h2>
<form name="getSystem" action="" method="get">
  <fieldset>
    <legend>Batteries and charging system:</legend>
      <input type="checkbox" checked="checked"/>Engine Alternator:<span id="alternator"></span> A 
      <input type="range" min="40" max="200" value="80" id="myAlternator"/></p>
      <input type="checkbox" unchecked/>Solar panels: <span id="solarP"></span> W 
      <input type="range" min="20" max="600" value="200" id="mySolarPanel"/></p>
      <input type="checkbox" unchecked/>Wind generator:<span id="windG"></span> W 
      <input type="range" min="100" max="600" value="150" id="myWindGen"/></p>
    <p>Are there seperate house and engine start batteries?
      <input type="radio" name="house" value="HouseYes" checked="checked"/> Yes
      <input type="radio" name="house" value="HouseNo"/> No</p>
    <p>Select the chemistry of the house battery:</p>
      <input type="radio" name="chemistry" value="FLA" checked="checked"/> Flooded lead-acid
      <input type="radio" name="chemistry" value="VLRA"/> Sealed lead-acid
      <input type="radio" name="chemistry" value="GEL"/> Gel
      <input type="radio" name="chemistry" value="AGM"/> AGM
    <p>House battery capacity: <span id="battery"></span> Ah 
      <input type="range" min="100" max="600" value="200" id="myRange"i/></p>
  </fieldset>
  <fieldset>
<legend>Add all your consumers here:</legend>
<table>
  <tr>
	  <td><input type="button" value="Add Row" onclick="addRows()"></td> 
	</tr>
</table>
<TABLE id="dataTable">
  <thead>
    <tr>
      <th data-type="text-long">Item<span class="resize-handle"></span></th>
      <th data-type="numeric">Draw (A)<span class="resize-handle"></th>
      <th data-type="numeric">Qty<span class="resize-handle"></th>
      <th data-type="numeric">U'Way hrs<span class="resize-handle"></th>
      <th data-type="numeric">Anc'd hrs<span class="resize-handle"></th>
      <th data-type="numeric">U'Way Ah<span class="resize-handle"></th>
      <th data-type="numeric">Anc'd Ah<span class="resize-handle"></th>
      <th>---</th>
    </tr>
  </thead>
  <tbody>
    <TR>
      <TD id="col0"><input type="text" name="consumerName" placeholder="light - tricolour"></td>
      <TD id="col1"><input class="input-num" type="number" name="consumer" id="tricolourAmps" min="0" max="10" value="0.2" step="0.1"/></td>
      <td id="col2"><input class="input-num" type="number" name="consumerQty" id="tricolourQty" min="0" max="10" value="1" step="1"i/></TD>
      <TD id="col3"><input class="input-num" type="number" name="hoursUWay" id="hoursUWayId" min="0" max="24" value="12" step="1"i/></TD>
      <TD id="col4"><input class="input-num" type="number" name="hoursAnchored" id="hoursAnchoredId" min="0" max="10" value="1" step="1/"></TD>
      <td id="col5"><span name="uWayTotalA" id="uWayTotalAmps"></span> Ah</td>
      <td id="col6"><span id="anchoredTotalAmps"></span>0.0 Ah</td>
      <td id="col7"></td>
    </TR>
  </tbody>
</table>
<table>
  <tr>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td>Total A 24 hrs:</td>
    <td><span id="consumersUWTotal">0.0</span> Ah</td>
    <td><span id="consumersAncTotal">0.0</span> Ah</td>
    <td></td>
  </tr>
  <tr>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td><input type="button" id="consumersUpdate" value="Update"></td>
    <td></td>
  </tr>
</table>


  </fieldset>
  <!-- Output sections starts here -->
  <fieldset>
    <legend>Results</legend>
    <p>Usable - Battery capacity required <span id="capacityUsable">0</span> Ah</p>
    <!-- this will change based on battery chemistry and the required daily battery capacity -->
    <p>Total - Battery capacity required <span id="capacityTotalBatt">0</span> Ah</p>
    <!-- Panel capacity using rule of thumb that will keep a battery operating in its sensible range i.e 50 to 80% for a FLA -->
    <p>Solar Panel capacity required: <span id="panelout"></span> W</p>
    <!-- excess capacity. On good days there will be excess. This is a good thing as it increases the chances of actually topping off the battery. Excess green deficit red -->
    <p>Charging capacity <span id="excessDeficit"></span> Wh</p>
  </fieldset>
</form>
<!-- Call script -->
<script src="solar.js"></script>

<footer>
  <hr></hr>
  <p>&#127279; Christopher Harris <a href="http://www.tweedsmarine.nz">www.tweedsmarine.nz</a> - 2021</p>
</footer>

</body>
</html>

